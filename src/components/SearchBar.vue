<template>
<div>
    <div class="search-box">
        <input 
          type="search" 
          @change="$emit('searchMovie', $event.target.value) // ë°ì´í„° ì „ë‹¬
          inputText = $event.target.value; 
          $event.target.value = ''" 
          placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
        <button>ğŸ”</button>
    </div>
</div>
</template>

<script>
export default {
    name: "SearchBarComponent",
    data() {
        return {
            inputText: '',
        }
    },
    props: {
        movies: Array,
    },
    watch: {
        inputText(name) {
            // ì…ë ¥í•œ ì˜í™” ì œëª©ì´ ë°ì´í„°ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°
            const findName = this.movies.filter(movie => {
                return movie.title.includes(name); 
            })
            if(findName.length == 0) {
                alert('í•´ë‹¹í•˜ëŠ” ì˜í™”ê°€ ì—†ìŠµë‹ˆë‹¤');
            }
        }
    }
}
</script>

<style>
.search-box {
    padding: 20px;
    display: flex;
    justify-content: center;
}

.search-box input {
    padding: 5px 10px;
}

.search-box button {
    margin: 0;
}
</style>